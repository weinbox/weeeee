<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>we in box - حاسبة الشحن الذكية</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            direction: rtl;
            background-color: #f4f6f9;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .calculator {
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .calculator h2 {
            margin-bottom: 20px;
            color: #333;
            font-size: 24px;
        }

        input, select {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-size: 16px;
            background-color: #f9f9f9;
            transition: border-color 0.3s;
        }

        input:focus, select:focus {
            border-color: #5a54d4;
        }

        button {
            background-color: #007bff;
            color: white;
            padding: 15px;
            width: 100%;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #0056b3;
        }

        p {
            margin-top: 20px;
            font-size: 18px;
            color: #333;
        }

        .logo {
            margin-bottom: 20px;
        }

        .logo img {
            width: 150px;
        }

        .calculator label {
            font-size: 16px;
            color: #555;
        }
    </style>
</head>
<body>
    <div class="calculator">
        <div class="logo">
            <img src="https://via.placeholder.com/150x50?text=Logo" alt="شعار شركة الشحن">
        </div>

        <h2>we in box</h2>

        <label>اختر المتجر</label>
        <select id="store" onchange="saveData()">
            <option value="ebay">eBay</option>
            <option value="amazon">Amazon</option>
            <option value="trendyol">Trendyol</option>
            <option value="aliexpress">AliExpress</option>
            <option value="sephora">Sephora</option>
            <option value="iherb">iHerb</option>
        </select>

        <div id="amazonCategories" style="display:none;">
            <label>اختر نوع المنتج (Amazon)</label>
            <select id="amazonProductType" onchange="saveData()">
                <option value="regular">مواد عادية</option>
                <option value="nonLiquidMakeup">مكياج غير سائل</option>
                <option value="liquidMakeupPerfume">مكياج سائل وعطور</option>
                <option value="supplements">مكملات</option>
            </select>
        </div>

        <div id="trendyolCategories" style="display:none;">
            <label>اختر نوع المنتج (Trendyol)</label>
            <select id="trendyolProductType" onchange="saveData()">
                <option value="tshirt">تيشيرت</option>
                <option value="shoes">حذاء</option>
                <option value="lightDress">فستان خفيف</option>
                <option value="heavyDress">فستان ثقيل</option>
                <option value="scarves">شالات</option>
                <option value="skirts">تنورة</option>
                <option value="bags">يلّكات</option>
                <option value="accessories">إكسسوارات</option>
            </select>
        </div>

        <label>سعر المنتج (بالدولار)</label>
        <input type="number" id="productPrice" oninput="saveData()" placeholder="أدخل سعر المنتج بالدولار">

        <label>الوزن (<span id="weightUnit">باوند</span>)</label>
        <input type="number" id="weight" oninput="saveData()" placeholder="أدخل الوزن">

        <label>عدد القطع</label>
        <input type="number" id="itemCount" oninput="saveData()" placeholder="أدخل عدد القطع">

        <p id="result"></p>
    </div>

    <script>
        document.getElementById("store").addEventListener("change", function() {
            let store = document.getElementById("store").value;
            document.getElementById("amazonCategories").style.display = store === "amazon" ? "block" : "none";
            document.getElementById("trendyolCategories").style.display = store === "trendyol" ? "block" : "none";

            let weightUnit = document.getElementById("weightUnit");
            weightUnit.innerText = (store === "trendyol" || store === "aliexpress") ? "كيلوغرام" : "باوند";

            calculatePrice();
        });

        function calculatePrice() {
            let store = document.getElementById("store").value;
            let productPrice = parseFloat(document.getElementById("productPrice").value);
            let weight = parseFloat(document.getElementById("weight").value);
            let itemCount = parseFloat(document.getElementById("itemCount").value);
            let exchangeRate = 1340;

            if (!productPrice || !weight || !itemCount || productPrice <= 0 || weight <= 0 || itemCount <= 0) {
                document.getElementById("result").innerText = "الرجاء إدخال جميع التفاصيل بشكل صحيح.";
                return;
            }

            let productPriceInIQD = productPrice * exchangeRate;
            let pricePerUnit, purchaseFeePerItem, totalPurchaseFee, shippingCost;

            if (store === "amazon") {
                let productType = document.getElementById("amazonProductType").value;
                switch (productType) {
                    case "regular":
                        pricePerUnit = 10000;
                        purchaseFeePerItem = Math.max(0.03 * productPrice, 2) * exchangeRate;
                        break;
                    case "nonLiquidMakeup":
                        pricePerUnit = 14000;
                        purchaseFeePerItem = 2 * exchangeRate;
                        break;
                    case "liquidMakeupPerfume":
                        pricePerUnit = 20000;
                        purchaseFeePerItem = 2 * exchangeRate;
                        break;
                    case "supplements":
                        pricePerUnit = 14000;
                        purchaseFeePerItem = 2 * exchangeRate;
                        break;
                }
            } else if (store === "ebay") {
                pricePerUnit = 10000;
                purchaseFeePerItem = Math.max(0.03 * productPrice, 2) * exchangeRate;
            } else if (store === "trendyol") {
                let productType = document.getElementById("trendyolProductType").value;
                switch (productType) {
                    case "tshirt":
                        pricePerUnit = 4 * exchangeRate;
                        break;
                    case "shoes":
                        pricePerUnit = 4 * exchangeRate;
                        break;
                    case "lightDress":
                        pricePerUnit = 5 * exchangeRate;
                        break;
                    case "heavyDress":
                        pricePerUnit = 8 * exchangeRate;
                        break;
                    case "scarves":
                        pricePerUnit = 3 * exchangeRate;
                        break;
                    case "skirts":
                        pricePerUnit = 4 * exchangeRate;
                        break;
                    case "bags":
                        pricePerUnit = 3 * exchangeRate;
                        break;
                    case "accessories":
                        pricePerUnit = 2 * exchangeRate;
                        break;
                }
                purchaseFeePerItem = Math.max(0.03 * productPrice, 2) * exchangeRate;
            } else if (store === "aliexpress") {
                pricePerUnit = 10000; // لكل كيلوغرام
                purchaseFeePerItem = Math.max(0.03 * productPrice, 2) * exchangeRate;
            } else if (store === "sephora") {
                pricePerUnit = 18000;
                purchaseFeePerItem = Math.max(0.03 * productPrice, 2) * exchangeRate;
            } else if (store === "iherb") {
                pricePerUnit = 14000;
                purchaseFeePerItem = Math.max(0.03 * productPrice, 2) * exchangeRate;
            }

            totalPurchaseFee = purchaseFeePerItem * itemCount;
            shippingCost = pricePerUnit * weight;
            let finalPrice = productPriceInIQD + shippingCost + totalPurchaseFee;

            document.getElementById("result").innerText = "السعر النهائي بالدينار العراقي: " + finalPrice.toFixed(2) + " دينار";
        }

        function saveData() {
            let store = document.getElementById("store").value;
            let productPrice = document.getElementById("productPrice").value;
            let weight = document.getElementById("weight").value;
            let itemCount = document.getElementById("itemCount").value;
            localStorage.setItem('store', store);
            localStorage.setItem('productPrice', productPrice);
            localStorage.setItem('weight', weight);
            localStorage.setItem('itemCount', itemCount);
            calculatePrice();
        }

        window.onload = function() {
            document.getElementById("store").value = localStorage.getItem('store') || "ebay";
            document.getElementById("productPrice").value = localStorage.getItem('productPrice') || "";
            document.getElementById("weight").value = localStorage.getItem('weight') || "";
            document.getElementById("itemCount").value = localStorage.getItem('itemCount') || "";
            calculatePrice();
        }
    </script>
</body>
</html>
